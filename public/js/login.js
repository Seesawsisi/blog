!function(){function t(){return n.val()?r.val()?(e={},e.username=n.val(),e.password=r.val(),Q(location.pathname,e,"log"),void 0):(i.find("p").text("请输入密码！"),i.addClass("input-tip").css(C),!1):(a.find("p").text("请输入用户名！"),a.addClass("input-tip").css(C),!1)}var e,n=$("#username"),r=$("#password"),i=$(".password-tip"),a=$(".username-tip"),o=$(".reg_name-tip"),s=$(".reg_email-tip"),l=$(".reg_pass-tip"),c=$(".reg_repeat-tip"),u=$("#reg_username"),f=$("#reg_email"),p=$("#reg_password"),h=$("#reg_password-repeat"),d=$(".btn-login"),g=$(".btn-reg"),v=$(".reset-password"),m=$(".show-reg"),_=$("#login"),b=$(".reg"),k=$(".reset"),y=$(".return-log"),R={left:"220px",opacity:0},C={left:"224px",opacity:1},w={"margin-left":"-260px"},T={"margin-left":"10px"},M={"margin-left":"-110px"},B={left:"260px",opacity:1,"z-index":220},E={left:"220px",opacity:0,"z-index":-200},L={right:"260px",opacity:1,"z-index":220},x={right:"240px",opacity:0,"z-index":240},Q=function(t,e,n){$.ajax({type:"POST",url:t,data:e,success:function(t){"log"===n?1===t.type?(a.find("p").text(t.mes),a.removeClass("input-tip"),a.css(C)):2===t.type?(i.find("p").text(t.mes),i.removeClass("input-tip"),i.css(C)):location.href="/":0===t.type?location.href="/":1===t.type?(o.find("p").text(t.mes),o.removeClass("input-tip").css(C)):3===t.type&&(s.find("p").text(t.mes),s.removeClass("input-tip").css(C))}})};n.focus(function(){a.css(R)}),r.focus(function(){i.css(R)}),u.focus(function(){o.css(R)}),p.focus(function(){l.css(R)}),h.focus(function(){c.css(R)}),f.focus(function(){s.css(R)}),d.click(t),v.click(function(){a.css(R),i.css(R),_.addClass("matte").css(T),setTimeout(function(){k.css(L)},200)}),m.click(function(){a.css(R),i.css(R),_.addClass("matte").css(w),setTimeout(function(){b.css(B)},200)}),y.click(function(){o.css(R),l.css(R),c.css(R),s.css(R),b.css(E),k.css(x),setTimeout(function(){_.removeClass("matte").css(M)},200)}),g.click(function(){if(!u.val())return o.find("p").text("请输入用户名！"),o.addClass("input-tip").css(C),!1;var t=/`|~|!|@|#|\$|%|\^|\*|\(|\-|\)|\+|_|=|\/|\||\\|。|，|》|《|>|<|！/;return t.test(u.val())?(o.find("p").text("包含非法字符。可以包含英文字母，数字，和三个符号 - . _"),o.addClass("input-tip").css(C),!1):u.val().length>20?(o.find("p").text("20个字符内"),o.addClass("input-tip").css(C),!1):p.val()?p.val()!=h.val()?(c.addClass("input-tip").css(C),!1):f.val()&&!/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/.test(f.val())?(s.css(C),!1):(e={},e.regUserName=u.val(),e.regPassword=p.val(),e.regEmail=f.val(),Q("/reg",e,"reg"),void 0):(l.addClass("input-tip").css(C),!1)})}();